if(window.loadphotoswipejs){window.alert("You've loaded load-photoswipe.js twice. See https://github.com/liwenyip/hugo-easy-gallery/issues/6");}
var loadphotoswipejs=1;document.addEventListener('DOMContentLoaded',()=>{var items=[];document.querySelectorAll('figure').forEach(($figure,index)=>{if($figure.className=='no-photoswipe')return true;var $a=$figure.querySelector('a'),$img=$figure.querySelector('img'),$src=$a.href,$title=$img.alt,$msrc=$img.src,$authr=$img.author;if($a.dataset.size){var $size=$a.dataset.size.split('x');var item={src:$src,w:$size[0],h:$size[1],title:$title,msrc:$msrc,author:$authr};console.log("Using pre-defined dimensions for "+$src);}else{var item={src:$src,w:400,h:300,title:$title,msrc:$msrc,author:$authr};console.log("Using default dimensions for "+$src);var img=new Image();img.src=$src;var wait=setInterval(()=>{var w=img.naturalWidth,h=img.naturalHeight;if(w&&h){clearInterval(wait);item.w=w;item.h=h;console.log("Got actual dimensions for "+img.src);}},30);}
items.push(item);$figure.addEventListener('click',event=>{event.preventDefault();var $pswp=document.querySelector('.pswp');var options={index:index,bgOpacity:0.8,showHideOpacity:true};new PhotoSwipe($pswp,PhotoSwipeUI_Default,items,options).init();},false);});},false);